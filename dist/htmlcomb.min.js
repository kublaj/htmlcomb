/*!
 * Cropper v0.1.0
 * https://github.com/fengyuanchen/htmlcomb
 *
 * Copyright 2014 Fengyuan Chen
 * Released under the MIT license
 */

!function(){"use strict";var a,b="undefined",c=function(b){this.defaults=a.extend({},c.DEFAULTS,b)};c.DEFAULTS={requireDoubleQuotationMarks:!0,replaceSingleQuotationMarks:!0,removeEmptyValue:!0,order:["class","id","name","data","src","for","type","href","value","title","alt","aria","role"]},c.prototype={constructor:c,format:function(b,d,e){return"string"!=typeof b?b:("undefined"==typeof e&&"function"==typeof d&&(e=d,d=null),d&&(this.defaults=a.extend({},c.DEFAULTS,d)),b=b.replace(/<(\w+)\s([^<]+)>/g,a.proxy(function(a,b,c){return"<"+b+" "+this.sort(c)+">"},this)),"function"==typeof e&&e.call(this,b),b)},sort:function(c){var d=this.defaults.order,e=[],f=[],g=[];return c=this.split(c),a.each(c,function(c){var e=!1;a.each(d,function(a,d){return c.substr(0,a.length)===a?(e=!0,typeof f[d]===b&&(f[d]=[]),f[d].push(c),!1):void 0}),e||g.push(c)}),a.each(f,function(a){Array.isArray(a)&&(a.length>1&&a.sort(),e.push(a.join(" ")))}),c=e.concat(g.sort()),c.join(" ")},split:function(c){var d=this.defaults,e=[];return"string"==typeof c&&(e=c.match(/\w+(?:\-\w*)*(\=(("[^"]*")|('[^']*')|\w*))?/g),e?a.each(e,function(a,c){var f;a=a.split("="),typeof a[1]!==b&&(f=a[1].charAt(0),"'"===f&&d.replaceSingleQuotationMarks?a[1]='"'+a[1].replace(/'([^']*)'/g,"$1").replace(/"/g,"&quot;")+'"':'"'!==f&&d.requireDoubleQuotationMarks&&(a[1]='"'+a[1]+'"'),'""'===a[1]&&d.removeEmptyValue&&a.pop()),e[c]=a.join("=")}):e=[]),e}},a={toArray:function(a,b,c){return Array.prototype.slice.call(a,b,c)},each:function(a,b){var c,d;if("function"==typeof b)if(Array.isArray(a))for(d=0,c=a.length;c>d&&b.call(a,a[d],d)!==!1;d++);else if("object"==typeof a)for(d in a)if(a.hasOwnProperty(d)&&b.call(a,a[d],d)===!1)break;return a},extend:function(b){var c=a.toArray(arguments);return c.length>1?c.shift():b=this,a.each(c,function(c){a.each(c,function(a,c){b[c]=a})}),b},proxy:function(b,c){var d=a.toArray(arguments,2);return function(){return b.apply(c,d.concat(a.toArray(arguments)))}}},a.extend(c.prototype,a),typeof window!==b&&(window.HTMLComb=c),typeof define!==b&&define.amd&&define([],function(){return c}),typeof module!==b&&(module.exports=c)}();