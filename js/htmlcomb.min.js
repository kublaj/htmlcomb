/*!
 * HTMLComb v0.2.0
 * https://github.com/fengyuanchen/htmlcomb
 *
 * Copyright (c) 2014-2015 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2015-03-16T09:36:20.132Z
 */
!function(){"use strict";var a,b=function(c){this.defaults=a.extend({},b.DEFAULTS,c),this.source="",this.result=""},c=/<(\w+)\s([^<>]+)>/g,d=/\w+(?:\-\w*)*(\=(("[^"]*")|('[^']*')|\w*))?/g,e=/'([^']*)'/g,f=/"/g,g=/^"\s*"$/,h=/[\n\r]+/g,i=/(\s)\s+/g,j=[],k=j.slice,l={}.toString;b.DEFAULTS={requireDoubleQuotationMarks:!0,replaceSingleQuotationMarks:!0,removeMultipleSpaces:!0,removeEmptyValues:!0,removeNewlines:!0,order:["class","id","name","data","src","for","type","href","value","title","alt","aria","role"]},b.prototype={constructor:b,setup:function(b){"object"==typeof b&&a.extend(this.defaults,b)},format:function(b,d){var e;if("string"!=typeof b)throw new Error('The first parameter for "format" method must be a string.');return this.source=b,e=b.replace(c,a.proxy(function(a,b,c){return"<"+b+" "+this.sort(c)+">"},this)),this.result=e,"function"==typeof d&&d.call(this,e),e},comb:function(){return this.format.apply(this,a.toArray(arguments))},sort:function(b){var c=this.defaults.order,d=[],e=[],f=[];return b=this.split(b),a.each(b,function(b){var d=!1;a.each(c,function(a,c){return b.substr(0,a.length)===a?(d=!0,"undefined"==typeof e[c]&&(e[c]=[]),e[c].push(b),!1):void 0}),d||f.push(b)}),a.each(e,function(b){a.isArray(b)&&(b.length>1&&b.sort(),d.push(b.join(" ")))}),b=d.concat(f.sort()),b.join(" ")},split:function(b){var c=this.defaults,j=[];return"string"==typeof b&&(j=b.match(d),j?a.each(j,function(a,b){var d;a=a.split("="),"undefined"!=typeof a[1]&&(d=a[1].charAt(0),"'"===d&&c.replaceSingleQuotationMarks?a[1]='"'+a[1].replace(e,"$1").replace(f,"&quot;")+'"':'"'!==d&&c.requireDoubleQuotationMarks&&(a[1]='"'+a[1]+'"'),c.removeNewlines&&(a[1]=a[1].replace(h,"")),c.removeMultipleSpaces&&(a[1]=a[1].replace(i,"$1")),g.test(a[1])&&c.removeEmptyValues&&a.pop()),j[b]=a.join("=")}):j=[]),j}},a={isArray:Array.isArray||function(a){return"[object Array]"===l.call(a)},toArray:function(a,b,c){var d=[];return"number"==typeof b&&(d.push(b),"number"==typeof c&&d.push(c)),k.apply(a,d)},each:function(b,c){var d,e;if("function"==typeof c)if(a.isArray(b))for(e=0,d=b.length;d>e&&c.call(b,b[e],e)!==!1;e++);else if("object"==typeof b)for(e in b)if(b.hasOwnProperty(e)&&c.call(b,b[e],e)===!1)break;return b},extend:function(b){var c=a.toArray(arguments);return c.length>1?c.shift():b=this,a.each(c,function(c){a.each(c,function(a,c){b[c]=a})}),b},proxy:function(b,c){var d=a.toArray(arguments,2);return function(){return b.apply(c,d.concat(a.toArray(arguments)))}}},a.extend(b.prototype,a),"undefined"!=typeof window&&(window.HTMLComb=b),"function"==typeof define&&define.amd&&define("htmlcomb",[],function(){return b}),"object"==typeof module&&(module.exports=b)}();